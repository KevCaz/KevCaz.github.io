<!doctype html><html lang=en-us><head><title>KevCaz's Website</title>
<link rel=stylesheet href=https://kevcaz.github.io/css/main.min.2e0874d93dedc5b86cd2d2b471abad3b89e2cad618d46f8b7d6ef32f24918729.css media=screen><link rel=stylesheet href=../../../../css/perso.css><link rel=stylesheet href=../../../../css/family.css><meta name=author content="Kevin Cazelles"><meta name=institution content="Department of Integrated Biology, University of Guelph"><meta name=news_keywords content="[Compute Canada Advances Research Computing High Performance Computing Slurm]"><meta property="og:site_name" content="KevCaz's Website"><meta property="og:title" content="From Mammoth to Graham"><meta property="og:image" content="https://kevcaz.github.io/img/imgOG/kevcaz_og.png"><meta property="og:description" content="Kevin Cazelles's website"></head><body><div class=page><div class=ctn-sidebar-primary><div class=ctt-sidebar-primary><h1>KevCaz's Website</h1><div class=primary-sidebar-premenu><h2><i class='fas fa-align-center'></i> <button onclick='dropDown("p-s-menu")'> Menu</button></h2></div><div class=primary-sidebar-menu id=p-s-menu><h2><a href=../../../../><i class='fas fa-home'></i> Home</a></h2><h2><a onclick='dropDown("dropdown-research")' href=javascript:void(0)><i class='fas fa-microscope'></i> Research</a></h2><div class=dropdown id=dropdown-research><h3><a href=../../../../about_my_research/>About my research</a></h3><h3><a href=../../../../publications/>Publications</a></h3><h3><a href=../../../../software/>Software</a></h3><h3><a href=../../../../talks/>Talks & Posters</a></h3><h3><a href=../../../../teaching/>Teaching</a></h3></div><h2 id=current-dropdown><a onclick='dropDown("dropdown-blog")' href=javascript:void(0)><i class='fas fa-blog'></i> Blog</a></h2><div class=dropdown-current id=dropdown-blog><h3><a href=../../../../econotes/>EcoNotes</a></h3><h3 id=current><a href=../../../../notes/>SilicoNotes</a></h3><h3><a href=https://insileco.github.io/>inSilecoBlog</a></h3></div><h2><a onclick='dropDown("dropdown-perso")' href=javascript:void(0)><i class='fas fa-person-booth'></i> Miscelleneous</a></h2><div class=dropdown id=dropdown-perso><h3><a href=../../../../perso/books>Books</a></h3><h3><a href=../../../../perso/movies>Movies</a></h3><h3><a href=../../../../perso/opinions>Opinions</a></h3></div></div><div class=footer><hr id=hr-footer align=left><div class=social-media-banner><a href=https://github.com/KevCaz><i class='fab fab fa-github-square'></i></a>
<a href=https://stackoverflow.com/users/8038778><i class='fab fa-stack-overflow'></i></a>
<a href=https://mastodon.social/@KCazelles><i class='fab fa-mastodon'></i></a>
<a href=http://orcid.org/0000-0001-6619-9874><i class='ai ai-orcid-square'></i></a>
<a href="https://scholar.google.ca/citations?user=xzvcu7cAAAAJ%26hl"><i class='ai ai-google-scholar-square'></i></a>
<a href=https://www.researchgate.net/profile/Kevin_Cazelles><i class='ai ai-researchgate-square'></i></a>
<a href=https://kevcaz.github.io/index.xml><i class="fas fa-rss-square"></i></a></div><div class=footer-custom>Website built with <a href=https://gohugo.io/>Hugo</a>.<br><i class='fas fa-code'></i> available on <a href=https://github.com/KevCaz/KevCaz.github.io><i class='fab fa-github'></i></a>.<br>Content under <a href=https://creativecommons.org/publicdomain/zero/1.0><i class='fab fa-creative-commons'></i><i class='fab fa-creative-commons-zero'></i></a> unless otherwise specified.<br>Latest build: 01 Jul 2024 04:45 UTC</div></div></div></div><div class=ctn-main-content><div class=ctt-main-content><div class=article-meta><h1 id=title>From Mammoth to Graham</h1><h3 class=date>September 19, 2019<div class=tags><i class="fas fa-tags" aria-hidden=true></i> &nbsp;
<a href=../../../../tags/compute-canada><kbd class=item-tag>Compute Canada</kbd></a>
<a href=../../../../tags/advances-research-computing><kbd class=item-tag>Advances Research Computing</kbd></a>
<a href=../../../../tags/high-performance-computing><kbd class=item-tag>High Performance Computing</kbd></a>
<a href=../../../../tags/slurm><kbd class=item-tag>Slurm</kbd></a></div></div><div class=article-main><p><a href=https://www.computecanada.ca/home/>Compute Canada</a> is awesome! Seriously, it is! As explained on its website:</p><blockquote><p>Compute Canada, in partnership with regional organizations ACENET, Calcul Québec, Compute Ontario and WestGrid, leads the acceleration of research and innovation by deploying state-of-the-art advanced research computing (ARC) systems, storage and software solutions. Together we provide essential ARC services and infrastructure for Canadian researchers and their collaborators in all academic and industrial sectors. Our world-class team of more than 200 experts employed by 37 partner universities and research institutions across the country provide direct support to research teams. Compute Canada is a proud ambassador for Canadian excellence in advanced research computing nationally and internationally.<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p></blockquote><p>A couple of years ago, while I was doing my PhD, I had to run hundreds of models
and some of the simulations took days! I couldn&rsquo;t have done this without Compute
Canada&rsquo;s resources. It was a very positive experience for several reasons:</p><ol><li>Compute Canada&rsquo;s hardware and software are top-notch;</li><li>the documentation is exhaustive and very clear, check out the <a href=https://docs.computecanada.ca/wiki/Compute_Canada_Documentation>wiki</a>;</li><li>Compute Canada&rsquo;s staff offers great support;</li><li>I&rsquo;ve learned a lot; </li></ol><p>At that time, I was in Quebec (<a href=https://www.calculquebec.ca/>Calcul Québec</a> was
the regional partner) and had access to Mammoth parallel II (see the <a href=https://wiki.calculquebec.ca/w/Tableau_r%C3%A9sum%C3%A9_des_propri%C3%A9t%C3%A9s_des_serveurs_de_Calcul_Qu%C3%A9bec/fr>wiki for
more details about
Mp2</a>)
that was running under CentOS and had
<a href=http://www.adaptivecomputing.com/products/torque/>TORQUE</a> as resource manager.
For the record, below is the bash script I wrote to deploy all my models:</p><div class=highlight><div style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#9893a5>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#9893a5></span><span style=color:#9893a5>#PBS -l nodes=94:ppn=1</span>
</span></span><span style=display:flex><span><span style=color:#9893a5>#PBS -l walltime=12:00:00</span>
</span></span><span style=display:flex><span><span style=color:#9893a5>#PBS -q qfbb</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#9893a5># import R</span>
</span></span><span style=display:flex><span>module load bioinformatics/R/3.2.5
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#9893a5># Use my working directory</span>
</span></span><span style=display:flex><span><span style=color:#d7827e>cd</span> <span style=color:#d7827e>$PBS_O_WORKDIR</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#9893a5># record node identity</span>
</span></span><span style=display:flex><span>cat <span style=color:#d7827e>$PBS_NODEFILE</span> &gt; <span style=color:#ea9d34>&#34;</span><span style=color:#ea9d34>${</span><span style=color:#d7827e>PBS_JOBID</span><span style=color:#ea9d34>}</span><span style=color:#ea9d34>.nodes&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>parallel -j24 --sshloginfile <span style=color:#d7827e>$PBS_NODEFILE</span> --workdir <span style=color:#d7827e>$PWD</span> Rscript ./myjob.R <span style=color:#797593>{</span>1<span style=color:#797593>}</span> <span style=color:#797593>{</span>2<span style=color:#797593>}</span> ::: <span style=color:#797593>{</span>1..448<span style=color:#797593>}</span> ::: <span style=color:#797593>{</span>1..5<span style=color:#797593>}</span>
</span></span></code></pre></td></tr></table></div></div><p>The <code>#PBS</code> directives indicate the resources I needed so (see <a href="https://wiki.calculquebec.ca/w/Ex%C3%A9cuter_une_t%C3%A2che/fr#tab=tab7">this page of wiki for more details</a> and then I used <a href=https://www.gnu.org/software/parallel/>GNU Parallel</a> to run my script with the right arguments on the different nodes and the different CPUs.</p><p>Now that I am at the University of Guelph, I have access to <strong>Graham</strong>, that is described on the wiki as follows:</p><blockquote><p>GRAHAM is a heterogeneous cluster, suitable for a variety of workloads, and located at the University of Waterloo. It is named after Wes Graham, the first director of the Computing Centre at Waterloo.</p></blockquote><blockquote><p>The parallel filesystem and external persistent storage (NDC-Waterloo) are similar to Cedar&rsquo;s. The interconnect is different and there is a slightly different mix of compute nodes.</p></blockquote><blockquote><p>The Graham system is sold and supported by Huawei Canada, Inc. It is entirely liquid cooled, using rear-door heat exchangers.<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></p></blockquote><p>Graham&rsquo;s OS is also CentOS:</p><div class=highlight><div style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ lsb_release -a
</span></span><span style=display:flex><span>LSB Version:	n/a
</span></span><span style=display:flex><span>Distributor ID:	CentOS
</span></span><span style=display:flex><span>Description:	CentOS Linux release 7.5.1804 <span style=color:#797593>(</span>Core<span style=color:#797593>)</span>
</span></span><span style=display:flex><span>Release:	7.5.1804
</span></span><span style=display:flex><span>Codename:	Core
</span></span></code></pre></td></tr></table></div></div><p>The resource manager installed is
<a href=https://slurm.schedmd.com/quickstart.html>Slurm</a> instead of TORQUE, so I had
to use a different script to run my jobs. Before presenting the script I wrote,
I&rsquo;d like to show how I loaded the software I frequently use. Basically, I first
used <code>module spider</code> to identify the module name and the versions available, for
example:</p><div class=highlight><div style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ module spider julia
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>-----------------------------------------------------------------------
</span></span><span style=display:flex><span>  julia:
</span></span><span style=display:flex><span>-----------------------------------------------------------------------
</span></span><span style=display:flex><span>    Description:
</span></span><span style=display:flex><span>      A high-level, high-performance dynamic language <span style=color:#286983>for</span> technical
</span></span><span style=display:flex><span>      computing.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>     Versions:
</span></span><span style=display:flex><span>        julia/1.0.2
</span></span><span style=display:flex><span>        julia/1.1.0
</span></span><span style=display:flex><span>        julia/1.1.1
</span></span><span style=display:flex><span>        julia/1.2.0
</span></span></code></pre></td></tr></table></div></div><p>Once all the modules I needed were identified, I loaded them all:</p><div class=highlight><div style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ module load gcc/7.3.0 geos/3.7.2 gdal/3.0.1 proj/6.0.0 julia/1.1.1 <span style=color:#286983>\
</span></span></span><span style=display:flex><span><span style=color:#286983></span>    nixpkgs/16.09 python/3.7.4 r/3.6.0 udunits/2.2.26
</span></span></code></pre></td></tr></table></div></div><p>and then saved them so that next time so I don&rsquo;t have to reload them next times I log in.</p><div class=highlight><div style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ module save
</span></span></code></pre></td></tr></table></div></div><p>Two other command are pretty useful:</p><ol><li><code>module list</code> list loaded modules</li><li><code>module unload</code> that unload a loaded module.</li></ol><p>That being done, and after installing specific R packages, I read the wiki page
<a href=https://docs.computecanada.ca/wiki/Running_jobs#Accounts_and_projects>&ldquo;Running
jobs&rdquo;</a> to write the following bash script (<code>launch.sh</code>):</p><div class=highlight><div style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#9893a5>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#9893a5></span><span style=color:#9893a5>#SBATCH --time=48:00:00</span>
</span></span><span style=display:flex><span><span style=color:#9893a5>#SBATCH --nodes=1</span>
</span></span><span style=display:flex><span><span style=color:#9893a5>#SBATCH --account=def-someone</span>
</span></span><span style=display:flex><span><span style=color:#9893a5>#SBATCH --array=1-12</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#9893a5># Use my working directory</span>
</span></span><span style=display:flex><span><span style=color:#d7827e>cd</span> <span style=color:#d7827e>$SLURM_SUBMIT_DIR</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#9893a5># Run my job</span>
</span></span><span style=display:flex><span>Rscript ./launcher.R <span style=color:#d7827e>$SLURM_ARRAY_TASK_ID</span>
</span></span></code></pre></td></tr></table></div></div><p>And then typed <code>sbatch launch.sh</code> to send the job to the scheduler. Note that
<code>squeue -u username</code> allows one to monitor his job(s). Worked like a charm
&#x1f604;! The <code>#SBATCH</code> directives describe the resource required and
<code>$SLURM_ARRAY_TASK_ID</code> distributes 1, 2, &mldr;, 12 to different jobs so that I
have a unique value per CPU, value that is the input of R script <code>launcher.R</code>
that determines which simulation will be run. A day of computation and it was
done!</p><p>To conclude this note, I&rsquo;d like to mention a very helpful table that presents
the main commands for the different resource managers used on the servers of
Compute Canada : <a href=https://slurm.schedmd.com/rosetta.pdf>https://slurm.schedmd.com/rosetta.pdf</a>. I found it very useful as I had some knowledge about TORQUE but not Slurm. Also, I&rsquo;d like to point
the reader to the following wiki page <a href=https://docs.computecanada.ca/wiki/R>https://docs.computecanada.ca/wiki/R</a> that
explains how to run parallel jobs for R users.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://www.computecanada.ca/about/>https://www.computecanada.ca/about/</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://docs.computecanada.ca/wiki/Graham>https://docs.computecanada.ca/wiki/Graham</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div></div><div class=footer2><hr id=hr-footer align=left><div class=social-media-banner><a href=https://github.com/KevCaz><i class='fab fab fa-github-square'></i></a>
<a href=https://stackoverflow.com/users/8038778><i class='fab fa-stack-overflow'></i></a>
<a href=https://mastodon.social/@KCazelles><i class='fab fa-mastodon'></i></a>
<a href=http://orcid.org/0000-0001-6619-9874><i class='ai ai-orcid-square'></i></a>
<a href="https://scholar.google.ca/citations?user=xzvcu7cAAAAJ%26hl"><i class='ai ai-google-scholar-square'></i></a>
<a href=https://www.researchgate.net/profile/Kevin_Cazelles><i class='ai ai-researchgate-square'></i></a>
<a href=https://kevcaz.github.io/index.xml><i class="fas fa-rss-square"></i></a></div><div class=footer-custom>Website built with <a href=https://gohugo.io/>Hugo</a>.<br><i class='fas fa-code'></i> available on <a href=https://github.com/KevCaz/KevCaz.github.io><i class='fab fa-github'></i></a>.<br>Content under <a href=https://creativecommons.org/publicdomain/zero/1.0><i class='fab fa-creative-commons'></i><i class='fab fa-creative-commons-zero'></i></a> unless otherwise specified.<br>Latest build: 01 Jul 2024 04:45 UTC</div></div></div><div class=ctn-sidebar-secondary><div class=ctt-sidebar-secondary><h1><a href=#><i class='far fas fa-chevron-up'></i></a></h1><script src=../../../../js/sidebar-secondary.js></script><h1><a onclick=scrollToBottom()><i class='far fas fa-chevron-down'></i></a></h1></div></div></div><script src=../../../../js/sidebar-primary-dropdown.js></script><script>scrollingElement=document.scrollingElement||document.body;function scrollToBottom(){scrollingElement.scrollTop=scrollingElement.scrollHeight}</script></body></html>