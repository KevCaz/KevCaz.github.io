<!doctype html><html lang=en-us><head><title>KevCaz's Website</title><link rel=stylesheet href=https://kevcaz.github.io/css/main.min.2e0874d93dedc5b86cd2d2b471abad3b89e2cad618d46f8b7d6ef32f24918729.css media=screen><link rel=stylesheet href=../../../../css/perso.css><link rel=stylesheet href=../../../../css/family.css><meta name=author content="Kevin Cazelles"><meta name=institution content="Department of Integrated Biology, University of Guelph"><meta name=news_keywords content="[continuous integration AppVeyor blogdown Hugo R]"><meta property="og:site_name" content="KevCaz's Website"><meta property="og:title" content="Let AppVeyor watch inSileco!"><meta property="og:image" content="https://kevcaz.github.io/img/imgOG/kevcaz_og.png"><meta property="og:description" content="Kevin Cazelles's website"></head><body><div class=page><div class=ctn-sidebar-primary><div class=ctt-sidebar-primary><h1>KevCaz's Website</h1><div class=primary-sidebar-premenu><h2><i class='fas fa-align-center'></i> <button onclick='dropDown("p-s-menu")'> Menu</button></h2></div><div class=primary-sidebar-menu id=p-s-menu><h2><a href=../../../../><i class='fas fa-home'></i> Home</a></h2><h2><a onclick='dropDown("dropdown-research")' href=javascript:void(0)><i class='fas fa-microscope'></i> Research</a></h2><div class=dropdown id=dropdown-research><h3><a href=../../../../about_my_research/>About my research</a></h3><h3><a href=../../../../publications/>Publications</a></h3><h3><a href=../../../../software/>Software</a></h3><h3><a href=../../../../talks/>Talks & Posters</a></h3><h3><a href=../../../../teaching/>Teaching</a></h3></div><h2 id=current-dropdown><a onclick='dropDown("dropdown-blog")' href=javascript:void(0)><i class='fas fa-blog'></i> Blog</a></h2><div class=dropdown-current id=dropdown-blog><h3><a href=../../../../econotes/>EcoNotes</a></h3><h3 id=current><a href=../../../../notes/>SilicoNotes</a></h3><h3><a href=https://insileco.github.io/>inSilecoBlog</a></h3></div><h2><a onclick='dropDown("dropdown-perso")' href=javascript:void(0)><i class='fas fa-person-booth'></i> Miscelleneous</a></h2><div class=dropdown id=dropdown-perso><h3><a href=../../../../perso/books>Books</a></h3><h3><a href=../../../../perso/movies>Movies</a></h3><h3><a href=../../../../perso/opinions>Opinions</a></h3></div></div><div class=footer><hr id=hr-footer align=left><div class=social-media-banner><a href=https://github.com/KevCaz><i class='fab fab fa-github-square'></i></a>
<a href=https://stackoverflow.com/users/8038778><i class='fab fa-stack-overflow'></i></a>
<a href=https://mastodon.social/@KCazelles><i class='fab fa-mastodon'></i></a>
<a href=http://orcid.org/0000-0001-6619-9874><i class='ai ai-orcid-square'></i></a>
<a href="https://scholar.google.ca/citations?user=xzvcu7cAAAAJ%26hl"><i class='ai ai-google-scholar-square'></i></a>
<a href=https://www.researchgate.net/profile/Kevin_Cazelles><i class='ai ai-researchgate-square'></i></a>
<a href=https://kevcaz.github.io/index.xml><i class="fas fa-rss-square"></i></a></div><div class=footer-custom>Website built with <a href=https://gohugo.io/>Hugo</a>.<br><i class='fas fa-code'></i> available on <a href=https://github.com/KevCaz/KevCaz.github.io><i class='fab fa-github'></i></a>.<br>Content under <a href=https://creativecommons.org/publicdomain/zero/1.0><i class='fab fa-creative-commons'></i><i class='fab fa-creative-commons-zero'></i></a> unless otherwise specified.<br>Latest build: 06 Mar 2024 17:10 UTC</div></div></div></div><div class=ctn-main-content><div class=ctt-main-content><div class=article-meta><h1 id=title>Let AppVeyor watch inSileco!</h1><h3 class=date>October 2, 2018<div class=tags><i class="fas fa-tags" aria-hidden=true></i> &nbsp;
<a href=../../../../tags/continuous-integration><kbd class=item-tag>continuous integration</kbd></a>
<a href=../../../../tags/appveyor><kbd class=item-tag>AppVeyor</kbd></a>
<a href=../../../../tags/blogdown><kbd class=item-tag>blogdown</kbd></a>
<a href=../../../../tags/hugo><kbd class=item-tag>Hugo</kbd></a>
<a href=../../../../tags/r><kbd class=item-tag>R</kbd></a></div></div><div class=article-main><p>I very much enjoy sharing thoughts and code on our blog <a href=https://insileco.github.io/>inSileco</a>. Recently, one of the authors
mentioned that <a href=https://github.com/inSileco/inSileco.github.io/issues/62>he was not able to clone the repository</a>
on his Windows machine. I came to realize that we better not assume that everybody is working on MacOS or Linux and check that inSileco works well on Windows. One of the most convenient way to do so is to use <a href=https://www.appveyor.com/>AppVeyor</a> and I
therefore decided to spend some time making the <a href=https://ci.appveyor.com/project/KevCaz/insileco-github-io>build passed on AppVeyor</a>!</p><p>There were two main difficulties to overcome:</p><ol><li>install all dependencies properly;</li><li>make sure we do not use functions in a &lsquo;only-Unix&rsquo; way.</li></ol><p>Regarding <strong>1</strong>, I had to edit the <code>appveyor.yml</code> file (see its <a href=https://github.com/inSileco/inSileco.github.io/blob/dev/appveyor.yml>latest version on Github</a>)
so as to:</p><ul><li><p>install a recent version of <a href=https://pandoc.org/>Pandoc</a>: I found this <a href=https://github.com/krlmlr/r-appveyor/issues/82>issue on GitHub</a> and so use
<a href=https://chocolatey.org/>chocolatey</a> to install it;</p></li><li><p><a href=https://github.com/krlmlr/r-appveyor>use RTOOLS</a> even though our repository do not include a <code>src</code> directory to successfully compile all remote packages.</p></li></ul><p>Regarding <strong>2</strong>, I simplified certain paths because some functions seem to be
quite sensitive (<a href=https://stackoverflow.com/questions/15226150/r-exdir-does-not-exist-error><code>unzip()</code> for instance</a>).</p><p>Below are the two parts of the <code>appveyor.yml</code> file I ended up adding to make it work
(again you can see the <a href=https://github.com/inSileco/inSileco.github.io/blob/dev/appveyor.yml>file on GitHub</a>)</p><div class=highlight><div style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#575279;background-color:#faf4ed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#d7827e>environment</span><span style=color:#797593>:</span>
</span></span><span style=display:flex><span>  <span style=color:#d7827e>USE_RTOOLS</span><span style=color:#797593>:</span> <span style=color:#286983>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#d7827e>after_build</span><span style=color:#797593>:</span>
</span></span><span style=display:flex><span>  - <span style=color:#ea9d34>choco install pandoc hugo</span>
</span></span><span style=display:flex><span>  - <span style=color:#ea9d34>Rscript -e &#39;blogdown::build_site()&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>Two final remarks:</p><ul><li><code>choco install</code> can be abbreviated <code>cinst</code>;</li><li>I chose to install <a href=https://gohugo.io/>Hugo</a> via chocolatey there is a function
of blogdown to do so: <code>blogdown::install_hugo()</code>.</li></ul></div></div><div class=footer2><hr id=hr-footer align=left><div class=social-media-banner><a href=https://github.com/KevCaz><i class='fab fab fa-github-square'></i></a>
<a href=https://stackoverflow.com/users/8038778><i class='fab fa-stack-overflow'></i></a>
<a href=https://mastodon.social/@KCazelles><i class='fab fa-mastodon'></i></a>
<a href=http://orcid.org/0000-0001-6619-9874><i class='ai ai-orcid-square'></i></a>
<a href="https://scholar.google.ca/citations?user=xzvcu7cAAAAJ%26hl"><i class='ai ai-google-scholar-square'></i></a>
<a href=https://www.researchgate.net/profile/Kevin_Cazelles><i class='ai ai-researchgate-square'></i></a>
<a href=https://kevcaz.github.io/index.xml><i class="fas fa-rss-square"></i></a></div><div class=footer-custom>Website built with <a href=https://gohugo.io/>Hugo</a>.<br><i class='fas fa-code'></i> available on <a href=https://github.com/KevCaz/KevCaz.github.io><i class='fab fa-github'></i></a>.<br>Content under <a href=https://creativecommons.org/publicdomain/zero/1.0><i class='fab fa-creative-commons'></i><i class='fab fa-creative-commons-zero'></i></a> unless otherwise specified.<br>Latest build: 06 Mar 2024 17:10 UTC</div></div></div><div class=ctn-sidebar-secondary><div class=ctt-sidebar-secondary><h1><a href=#><i class='far fas fa-chevron-up'></i></a></h1><script src=../../../../js/sidebar-secondary.js></script><h1><a onclick=scrollToBottom()><i class='far fas fa-chevron-down'></i></a></h1></div></div></div><script src=../../../../js/sidebar-primary-dropdown.js></script>
<script>scrollingElement=document.scrollingElement||document.body;function scrollToBottom(){scrollingElement.scrollTop=scrollingElement.scrollHeight}</script></body></html>